<ng-container *ngIf='profile$ | async as profile'>
  <ng-container *ngIf='!profile.inGame'>
    <ng-container *ngIf='profile.role === role.ADMIN else wait'>
      <red-tetris-help>
        Hello {{profile.name}}! You are admin on this room. Start game when ready
      </red-tetris-help>
    </ng-container>
    <ng-template #wait>
      <red-tetris-help>
        Hello {{profile.name}}! Please wait when admin start the game
      </red-tetris-help>
    </ng-template>
  </ng-container>
  <mat-accordion multi *ngIf='playerList$ | async as players'>
    <mat-expansion-panel *ngFor="let player of players">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ player }}
        </mat-panel-title>
      </mat-expansion-panel-header>
    </mat-expansion-panel>
  </mat-accordion>
  <div class='start-button' *ngIf='!profile.inGame'>
    <button routerLink='/' mat-raised-button color="primary">Quit</button>
    <button routerLink='/leaderboards' mat-raised-button color="primary">Leaderboards</button>
    <button *redTetrisSecure='role.ADMIN' mat-raised-button color="primary" (click)='startGame()'>Start Game!</button>
  </div>
</ng-container>
